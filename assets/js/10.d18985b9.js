(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{166:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[n("h1",[t._v("New in Python 3.7")]),t._m(0),n("p",[n("a",{attrs:{href:"https://docs.python.org/3/library/dataclasses.html#dataclasses.dataclass",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("dataclass()")]),n("OutboundLink")],1),t._v(" decorator provides a way to declare "),n("em",[t._v("data classes")]),t._v(". Its constructor and other magic methods, such as "),n("a",{attrs:{href:"https://docs.python.org/3/reference/datamodel.html#object.__repr__",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("__repr__()")]),n("OutboundLink")],1),t._v(", "),n("a",{attrs:{href:"https://docs.python.org/3/reference/datamodel.html#object.__eq__",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("__eq__()")]),n("OutboundLink")],1),t._v(", and "),n("a",{attrs:{href:"https://docs.python.org/3/reference/datamodel.html#object.__hash__",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("__hash__()")]),n("OutboundLink")],1),t._v(" are generated automatically.")]),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),n("p",[t._v("In previous versions, Python cannot reference class, function, variables that are not defined in current scope, so code such as below will fail in compile time.")]),t._m(7),n("p",[t._v("In Python 3.7 you can add following import to fix this issue, in Python 4.0 this will be default, so there will have no need to add the import.")]),t._m(8),t._m(9),t._m(10),t._m(11),n("p",[t._v("Another option is to use "),n("code",[t._v("PYTHONBREAKPOINT")]),t._v(" to specify a debugger other than PDB. For instance, to use "),n("a",{attrs:{href:"https://pypi.org/project/pudb/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PuDB"),n("OutboundLink")],1),t._v(" (a visual debugger in the console) you can do:")]),t._m(12),t._m(13),n("p",[t._v("Defining "),n("a",{attrs:{href:"https://docs.python.org/3/reference/datamodel.html#object.__getattr__",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("__getattr__()")]),n("OutboundLink")],1),t._v(" and "),n("a",{attrs:{href:"https://docs.python.org/3/reference/datamodel.html#object.__dir__",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("__dir__()")]),n("OutboundLink")],1),t._v(" are now allowed. "),n("code",[t._v("__getattr__()")]),t._v(" will be called whenever a module attribute is otherwise not found.")]),t._m(14),t._m(15),n("p",[t._v("Python 3.7 provides 6 new time functions with resolution to nanosecond. ("),n("code",[t._v("time.time()")]),t._v(" is millisecond.)  "),n("a",{attrs:{href:"https://docs.python.org/3/library/time.html#time.time_ns",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("time.time_ns()")]),n("OutboundLink")],1),t._v(" is approximately 3 times better than that of "),n("a",{attrs:{href:"https://docs.python.org/3/library/time.html#time.time",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("time.time()")]),n("OutboundLink")],1)]),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.python.org/3/library/time.html#time.time_ns",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("time.time_ns()")]),n("OutboundLink")],1)]),n("li",[n("a",{attrs:{href:"https://docs.python.org/3/library/time.html#time.clock_gettime_ns",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("time.clock_gettime_ns()")]),n("OutboundLink")],1)]),n("li",[n("a",{attrs:{href:"https://docs.python.org/3/library/time.html#time.clock_settime_ns",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("time.clock_settime_ns()")]),n("OutboundLink")],1)]),n("li",[n("a",{attrs:{href:"https://docs.python.org/3/library/time.html#time.monotonic_ns",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("time.monotonic_ns()")]),n("OutboundLink")],1)]),n("li",[n("a",{attrs:{href:"https://docs.python.org/3/library/time.html#time.perf_counter_ns",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("time.perf_counter_ns()")]),n("OutboundLink")],1)]),n("li",[n("a",{attrs:{href:"https://docs.python.org/3/library/time.html#time.process_time_ns",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("time.process_time_ns()")]),n("OutboundLink")],1)])]),t._m(16),n("p",[n("a",{attrs:{href:"https://docs.python.org/3/library/contextvars.html#module-contextvars",target:"_blank",rel:"noopener noreferrer"}},[t._v("contextvar"),n("OutboundLink")],1),t._v(" provides APIs to manage, store, and access context-local state. The "),n("a",{attrs:{href:"https://docs.python.org/3/library/contextvars.html#contextvars.ContextVar",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("ContextVar")]),n("OutboundLink")],1),t._v(" class is used to declare and work with "),n("em",[t._v("Context Variables")]),t._v(". The "),n("a",{attrs:{href:"https://docs.python.org/3/library/contextvars.html#contextvars.copy_context",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("copy_context()")]),n("OutboundLink")],1),t._v(" function and the "),n("a",{attrs:{href:"https://docs.python.org/3/library/contextvars.html#contextvars.Context",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("Context")]),n("OutboundLink")],1),t._v(" class should be used to manage the current context in asynchronous frameworks.")]),n("p",[t._v("Context managers that have state should use Context Variables instead of "),n("a",{attrs:{href:"https://docs.python.org/3/library/threading.html#threading.local",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("threading.local()")]),n("OutboundLink")],1),t._v(" to prevent their state from bleeding to other code unexpectedly, when used in concurrent code.")]),n("p",[t._v("Example with asyncio")]),t._m(17),n("h2",{attrs:{id:"importlib-resources-module"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#importlib-resources-module","aria-hidden":"true"}},[t._v("#")]),n("a",{attrs:{href:"https://docs.python.org/3/library/importlib.html#module-importlib.resources",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("importlib.resources")]),n("OutboundLink")],1),t._v(" Module")]),t._m(18),t._m(19),t._m(20),t._m(21),n("ul",[t._m(22),n("li",[n("p",[t._v("asyncio gained support for "),n("a",{attrs:{href:"https://docs.python.org/3/library/contextvars.html#module-contextvars",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("contextvars")]),n("OutboundLink")],1),t._v(", "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.call_soon",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("loop.call_soon()")]),n("OutboundLink")],1),t._v(", "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.call_soon_threadsafe",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("loop.call_soon_threadsafe()")]),n("OutboundLink")],1),t._v(" ,"),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.call_later",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("loop.call_later()")]),n("OutboundLink")],1),t._v(", "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.call_at",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("loop.call_at()")]),n("OutboundLink")],1),t._v(", and "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-task.html#asyncio.Future.add_done_callback",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("Future.add_done_callback()")]),n("OutboundLink")],1),t._v(" have a new optional keyword-only "),n("em",[t._v("context")]),t._v(" parameter. "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-task.html#asyncio.Task",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("Tasks")]),n("OutboundLink")],1),t._v(" now track their context automatically.")])]),n("li",[n("p",[n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-eventloops.html#asyncio.get_running_loop",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("asyncio.get_running_loop()")]),n("OutboundLink")],1),t._v(" function returns the currently running loop, and raises a "),n("a",{attrs:{href:"https://docs.python.org/3/library/exceptions.html#RuntimeError",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("RuntimeError")]),n("OutboundLink")],1),t._v(" if no loop is running. This is in contrast with "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-eventloops.html#asyncio.get_event_loop",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("asyncio.get_event_loop()")]),n("OutboundLink")],1),t._v(", which will "),n("em",[t._v("create")]),t._v(" a new event loop if none is running.")])]),n("li",[n("p",[t._v("The new "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-task.html#asyncio.current_task",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("asyncio.current_task()")]),n("OutboundLink")],1),t._v(" function returns the currently running "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-task.html#asyncio.Task",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("Task")]),n("OutboundLink")],1),t._v(" instance, and the new "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-task.html#asyncio.all_tasks",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("asyncio.all_tasks()")]),n("OutboundLink")],1),t._v(" function returns a set of all existing "),n("code",[t._v("Task")]),t._v(" instances in a given loop. The "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-task.html#asyncio.Task.current_task",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("Task.current_task()")]),n("OutboundLink")],1),t._v(" and "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-task.html#asyncio.Task.all_tasks",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("Task.all_tasks()")]),n("OutboundLink")],1),t._v(" methods have been deprecated.")])]),n("li",[n("p",[t._v("The new "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-stream.html#asyncio.StreamWriter.wait_closed",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("StreamWriter.wait_closed()")]),n("OutboundLink")],1),t._v(" coroutine method allows waiting until the stream writer is closed. The new "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-stream.html#asyncio.StreamWriter.is_closing",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("StreamWriter.is_closing()")]),n("OutboundLink")],1),t._v(" method can be used to determine if the writer is closing.")])]),n("li",[n("p",[t._v("The new "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.sock_sendfile",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("loop.sock_sendfile()")]),n("OutboundLink")],1),t._v(" coroutine method allows sending files using "),n("a",{attrs:{href:"https://docs.python.org/3/library/os.html#os.sendfile",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("os.sendfile")]),n("OutboundLink")],1),t._v(" when possible.")])]),t._m(23),n("li",[n("p",[t._v("Callback objects returned by "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.call_later",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("loop.call_later()")]),n("OutboundLink")],1),t._v(" gained the new "),n("a",{attrs:{href:"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.TimerHandle.when",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("when()")]),n("OutboundLink")],1),t._v(" method which returns an absolute scheduled callback timestamp.")])])]),t._m(24),n("p",[n("a",{attrs:{href:"https://docs.python.org/3/library/logging.html#logging.Logger",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("Logger")]),n("OutboundLink")],1),t._v(" instances can now be pickled. (Contributed by Vinay Sajip in "),n("a",{attrs:{href:"https://bugs.python.org/issue30520",target:"_blank",rel:"noopener noreferrer"}},[t._v("bpo-30520"),n("OutboundLink")],1),t._v(".)")]),n("p",[t._v("The new "),n("a",{attrs:{href:"https://docs.python.org/3/library/logging.handlers.html#logging.StreamHandler.setStream",target:"_blank",rel:"noopener noreferrer"}},[n("code",[t._v("StreamHandler.setStream()")]),n("OutboundLink")],1),t._v(" method can be used to replace the logger stream after handler creation.")]),t._m(25),n("p",[t._v("These are the changes that attracts me, not exhaustive, for all changes see "),n("a",{attrs:{href:"https://docs.python.org/3/whatsnew/3.7.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),n("OutboundLink")],1),t._v(".")]),t._m(26)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"dataclass"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dataclass","aria-hidden":"true"}},[this._v("#")]),this._v(" Dataclass")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('@dataclass\nclass Point:\n    x: float\n    y: float\n    z: float = 0.0\n\np = Point(1.5, 2.5)\nprint(p)   # produces "Point(x=1.5, y=2.5, z=0.0)"\n')])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Use "),s("code",[this._v("dataclass.field")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dataclasses "),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" dataclass"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" field\n\n@dataclass"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token boolean"}},[t._v("True")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("Country")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token builtin"}},[t._v("str")]),t._v("\n    population"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token builtin"}},[t._v("int")]),t._v("\n    area"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token builtin"}},[t._v("float")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" field"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token builtin"}},[t._v("repr")]),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token boolean"}},[t._v("False")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" compare"),n("span",{attrs:{class:"token operator"}},[t._v("=")]),n("span",{attrs:{class:"token boolean"}},[t._v("False")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    coastline"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token builtin"}},[t._v("float")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("0")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("beach_per_person")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{attrs:{class:"token triple-quoted-string string"}},[t._v('"""Meters of coastline per person"""')]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("coastline "),n("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1000")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" self"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("population\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Use types in "),s("code",[this._v("typing")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" dataclasses "),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" dataclass\n"),n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" typing "),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Any\n\n@dataclass\n"),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("WithoutExplicitTypes")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    name"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Any\n    value"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Any "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("42")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"forward-reference-of-type-annotation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#forward-reference-of-type-annotation","aria-hidden":"true"}},[this._v("#")]),this._v(" Forward Reference of Type Annotation")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("C")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    @"),n("span",{attrs:{class:"token builtin"}},[t._v("classmethod")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("from_string")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cls"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" source"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token builtin"}},[t._v("str")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("-")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" C"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),n("span",{attrs:{class:"token comment"}},[t._v("# <== class C is not defined")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("validate_b")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" obj"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" B"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("-")]),n("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{attrs:{class:"token builtin"}},[t._v("bool")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  \t "),n("span",{attrs:{class:"token comment"}},[t._v("# <== class B is not defined")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("B")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[this._v("from")]),this._v(" __future__ "),s("span",{attrs:{class:"token keyword"}},[this._v("import")]),this._v(" annotations\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[s("strong",[this._v("Note")])]),this._v(": This is fixed by storing annotation to the end, and postpone the annotation evaluation time.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"built-in-breakpoint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#built-in-breakpoint","aria-hidden":"true"}},[this._v("#")]),this._v(" Built-in "),s("code",[this._v("breakpoint()")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("p",[t._v("Python now has a "),n("code",[t._v("breakpoint()")]),t._v(" function which is merely an alias for "),n("code",[t._v("import pdb; pdb.set_trace()")]),t._v(". When executing python program, users can set "),n("code",[t._v("PYTHONBREAKPOINT=0")]),t._v(" to ignore "),n("code",[t._v("breakpoint()")]),t._v(" completely.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("PYTHONBREAKPOINT"),s("span",{attrs:{class:"token operator"}},[this._v("=")]),this._v("pudb.set_trace \npython3.7 bugs.py\n")])]),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"customization-of-access-to-module-attributes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#customization-of-access-to-module-attributes","aria-hidden":"true"}},[this._v("#")]),this._v(" Customization of Access to Module Attributes")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token comment"}},[t._v("# __init__.py")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" importlib "),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" import_module\n"),n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" importlib "),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" resources\n\nPLUGINS "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token builtin"}},[t._v("dict")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("register_plugin")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("func"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{attrs:{class:"token triple-quoted-string string"}},[t._v('"""Decorator to register plug-ins"""')]),t._v("\n    name "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" func"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name__\n    PLUGINS"),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" func\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" func\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("__getattr__")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{attrs:{class:"token triple-quoted-string string"}},[t._v('"""Return a named plugin"""')]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("try")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" PLUGINS"),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("except")]),t._v(" KeyError"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        _import_plugins"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" name "),n("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" PLUGINS"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" PLUGINS"),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("name"),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("else")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{attrs:{class:"token keyword"}},[t._v("raise")]),t._v(" AttributeError"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                f"),n("span",{attrs:{class:"token string"}},[t._v('"module {__name__!r} has no attribute {name!r}"')]),t._v("\n            "),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("__dir__")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{attrs:{class:"token triple-quoted-string string"}},[t._v('"""List available plug-ins"""')]),t._v("\n    _import_plugins"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{attrs:{class:"token builtin"}},[t._v("list")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PLUGINS"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keys"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("_import_plugins")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{attrs:{class:"token triple-quoted-string string"}},[t._v('"""Import all resources to register plug-ins"""')]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" name "),n("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" resources"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contents"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__name__"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" name"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("endswith"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('".py"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            import_module"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f"),n("span",{attrs:{class:"token string"}},[t._v('"{__name__}.{name[:-3]}"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"new-time-functions-with-nanosecond-resolution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#new-time-functions-with-nanosecond-resolution","aria-hidden":"true"}},[this._v("#")]),this._v(" New Time Functions With Nanosecond Resolution")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"contextvar-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#contextvar-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Contextvar Module")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" asyncio\n"),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" contextvars\n\nclient_addr_var "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" contextvars"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ContextVar"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'client_addr'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("render_goodbye")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{attrs:{class:"token comment"}},[t._v("# The address of the currently handled client can be accessed")]),t._v("\n    "),n("span",{attrs:{class:"token comment"}},[t._v("# without passing it explicitly to this function.")]),t._v("\n\n    client_addr "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" client_addr_var"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("# <== Get addr here")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" f"),n("span",{attrs:{class:"token string"}},[t._v("'Good bye, client @ {client_addr}\\n'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("handle_request")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reader"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" writer"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    addr "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" writer"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("transport"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_extra_info"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'socket'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getpeername"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    client_addr_var"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token builtin"}},[t._v("set")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("addr"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{attrs:{class:"token comment"}},[t._v("# <== Set addr here")]),t._v("\n\n    "),n("span",{attrs:{class:"token comment"}},[t._v("# In any code that we call is now possible to get")]),t._v("\n    "),n("span",{attrs:{class:"token comment"}},[t._v("# client's address by calling 'client_addr_var.get()'.")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("True")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        line "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" reader"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readline"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("print")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("line"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("not")]),t._v(" line"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strip"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{attrs:{class:"token keyword"}},[t._v("break")]),t._v("\n        writer"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("line"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    writer"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("render_goodbye"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    writer"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("close"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("main")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    srv "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" asyncio"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start_server"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        handle_request"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("8081")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("with")]),t._v(" srv"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" srv"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("serve_forever"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nasyncio"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("main"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("# To test it you can use telnet:")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v("#     telnet 127.0.0.1 8081")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br"),n("span",{staticClass:"line-number"},[t._v("36")]),n("br"),n("span",{staticClass:"line-number"},[t._v("37")]),n("br"),n("span",{staticClass:"line-number"},[t._v("38")]),n("br"),n("span",{staticClass:"line-number"},[t._v("39")]),n("br"),n("span",{staticClass:"line-number"},[t._v("40")]),n("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This module leverages Python’s import system to provide access to "),s("em",[this._v("resources")]),this._v(" within "),s("em",[this._v("packages")]),this._v(". If you can import a package, you can access resources within that package. Resources can be opened or read, in either binary or text mode.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Resources are roughly akin to files inside directories, though it’s important to keep in mind that this is just a metaphor. Resources and packages "),s("strong",[this._v("do not")]),this._v(" have to exist as physical files and directories on the file system.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"improved-modules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#improved-modules","aria-hidden":"true"}},[this._v("#")]),this._v(" Improved Modules")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"asyncio"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#asyncio","aria-hidden":"true"}},[this._v("#")]),this._v(" Asyncio")])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[this._v("Now can use "),s("code",[this._v("asyncio.run()")]),this._v(" to execute coroutines without an event loop.")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("li",[n("p",[t._v("Control how "),n("code",[t._v("asyncio.Server")]),t._v(" is being served")]),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[t._v("srv "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("await")]),t._v(" loop"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create_server"),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),n("span",{attrs:{class:"token keyword"}},[t._v("with")]),t._v(" srv"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{attrs:{class:"token comment"}},[t._v("# some code")]),t._v("\n\n"),n("span",{attrs:{class:"token comment"}},[t._v("# At this point, srv is closed and no longer accepts new connections.")]),t._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"logging"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#logging","aria-hidden":"true"}},[this._v("#")]),this._v(" Logging")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"conclude"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#conclude","aria-hidden":"true"}},[this._v("#")]),this._v(" Conclude")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("In my opinion, the most exciting changes are dataclass and asnycio improvments. Although asyncio seem have minor updates, it's good to see the Python team is having more support to asynchronous Python code. When developing with asyncio, I always feel somewhat inconvenient compare to Node.js, ESPECIALLY working with main stream (old) libraries, since when these libraries were built there were no "),s("code",[this._v("async/await")]),this._v(" or coroutines. Hope "),s("code",[this._v("async/await")]),this._v(" will gain more support in large web and database frameworks.")])}],!1,null,null,null);s.default=e.exports}}]);